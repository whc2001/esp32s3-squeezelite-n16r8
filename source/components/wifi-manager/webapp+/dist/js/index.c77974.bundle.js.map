{"version":3,"file":"./js/index.c77974.bundle.js","mappings":"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","sources":["webpack://squeezelite-esp32/webpack/runtime/chunk loaded","webpack://squeezelite-esp32/./src/index.ts","webpack://squeezelite-esp32/./src/js/custom.js","webpack://squeezelite-esp32/webpack/bootstrap","webpack://squeezelite-esp32/webpack/runtime/compat get default export","webpack://squeezelite-esp32/webpack/runtime/define property getters","webpack://squeezelite-esp32/webpack/runtime/global","webpack://squeezelite-esp32/webpack/runtime/hasOwnProperty shorthand","webpack://squeezelite-esp32/webpack/runtime/make namespace object","webpack://squeezelite-esp32/webpack/runtime/node module decorator","webpack://squeezelite-esp32/webpack/runtime/jsonp chunk loading","webpack://squeezelite-esp32/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"bootstrap\");\r\nrequire(\"./sass/main.scss\");\r\nrequire(\"./assets/images/favicon-32x32.png\");\r\nrequire(\"./js/custom.js\");\r\n","var he = require('he');\nvar Promise = require('es6-promise').Promise;\nwindow.bootstrap = require('bootstrap');\nimport Cookies from 'js-cookie';\n\n\n\nif (!String.prototype.format) {\n  Object.assign(String.prototype, {\n    format() {\n      const args = arguments;\n      return this.replace(/{(\\d+)}/g, function (match, number) {\n        return typeof args[number] !== 'undefined' ? args[number] : match;\n      });\n    },\n  });\n}\nif (!String.prototype.encodeHTML) {\n  Object.assign(String.prototype, {\n    encodeHTML() {\n      return he.encode(this).replace(/\\n/g, '<br />');\n    },\n  });\n}\nObject.assign(Date.prototype, {\n  toLocalShort() {\n    const opt = { dateStyle: 'short', timeStyle: 'short' };\n    return this.toLocaleString(undefined, opt);\n  },\n});\nfunction get_control_option_value(obj) {\n  let ctrl,id,val,opt;\n  let radio = false;\n  let checked = false;\n  if (typeof (obj) === 'string') {\n    id = obj;\n    ctrl = $(`#${id}`);\n  } else {\n    id = $(obj).attr('id');\n    ctrl = $(obj);\n  }\n  if(ctrl.attr('type') === 'checkbox'){\n    opt = $(obj).checked?id.replace('cmd_opt_', ''):'';\n    val = true;\n  }\n  else {\n    opt = id.replace('cmd_opt_', '');\n    val = $(obj).val();\n    val = `${val.includes(\" \") ? '\"' : ''}${val}${val.includes(\" \") ? '\"' : ''}`;\n  }\n\n  return { opt, val };\n}\nfunction handleNVSVisible() {\n  let nvs_previous_checked = isEnabled(Cookies.get(\"show-nvs\"));\n  $('input#show-nvs')[0].checked = nvs_previous_checked;\n  if ($('input#show-nvs')[0].checked || recovery) {\n    $('*[href*=\"-nvs\"]').show();\n  } else {\n    $('*[href*=\"-nvs\"]').hide();\n  }\n}\nfunction concatenateOptions(options) {\n  let commandLine = ' ';\n  for (const [option, value] of Object.entries(options)) {\n    if (option !== 'n' && option !== 'o') {\n      commandLine += `-${option} `;\n      if (value !== true) {\n        commandLine += `${value} `;\n      }\n    }\n  }\n  return commandLine;\n}\n\nfunction isEnabled(val) {\n  return val != undefined && typeof val === 'string' && val.match(\"[Yy1]\");\n}\n\nconst nvsTypes = {\n  NVS_TYPE_U8: 0x01,\n  /*! < Type uint8_t */\n  NVS_TYPE_I8: 0x11,\n  /*! < Type int8_t */\n  NVS_TYPE_U16: 0x02,\n  /*! < Type uint16_t */\n  NVS_TYPE_I16: 0x12,\n  /*! < Type int16_t */\n  NVS_TYPE_U32: 0x04,\n  /*! < Type uint32_t */\n  NVS_TYPE_I32: 0x14,\n  /*! < Type int32_t */\n  NVS_TYPE_U64: 0x08,\n  /*! < Type uint64_t */\n  NVS_TYPE_I64: 0x18,\n  /*! < Type int64_t */\n  NVS_TYPE_STR: 0x21,\n  /*! < Type string */\n  NVS_TYPE_BLOB: 0x42,\n  /*! < Type blob */\n  NVS_TYPE_ANY: 0xff /*! < Must be last */,\n};\nconst btIcons = {\n  bt_playing: { 'label': '', 'icon': 'media_bluetooth_on' },\n  bt_disconnected: { 'label': '', 'icon': 'media_bluetooth_off' },\n  bt_neutral: { 'label': '', 'icon': 'bluetooth' },\n  bt_connecting: { 'label': '', 'icon': 'bluetooth_searching' },\n  bt_connected: { 'label': '', 'icon': 'bluetooth_connected' },\n  bt_disabled: { 'label': '', 'icon': 'bluetooth_disabled' },\n  play_arrow: { 'label': '', 'icon': 'play_circle_filled' },\n  pause: { 'label': '', 'icon': 'pause_circle' },\n  stop: { 'label': '', 'icon': 'stop_circle' },\n  '': { 'label': '', 'icon': '' }\n};\nconst batIcons = [\n  { icon: \"battery_0_bar\", label: '', ranges: [{ f: 5.8, t: 6.8 }, { f: 8.8, t: 10.2 }] },\n  { icon: \"battery_2_bar\", label: '', ranges: [{ f: 6.8, t: 7.4 }, { f: 10.2, t: 11.1 }] },\n  { icon: \"battery_3_bar\", label: '', ranges: [{ f: 7.4, t: 7.5 }, { f: 11.1, t: 11.25 }] },\n  { icon: \"battery_4_bar\", label: '', ranges: [{ f: 7.5, t: 7.8 }, { f: 11.25, t: 11.7 }] }\n];\nconst btStateIcons = [\n  { desc: 'Idle', sub: ['bt_neutral'] },\n  { desc: 'Discovering', sub: ['bt_connecting'] },\n  { desc: 'Discovered', sub: ['bt_connecting'] },\n  { desc: 'Unconnected', sub: ['bt_disconnected'] },\n  { desc: 'Connecting', sub: ['bt_connecting'] },\n  {\n    desc: 'Connected',\n    sub: ['bt_connected', 'play_arrow', 'bt_playing', 'pause', 'stop'],\n  },\n  { desc: 'Disconnecting', sub: ['bt_disconnected'] },\n];\n\nconst pillcolors = {\n  MESSAGING_INFO: 'badge-success',\n  MESSAGING_WARNING: 'badge-warning',\n  MESSAGING_ERROR: 'badge-danger',\n};\nconst connectReturnCode = {\n  OK: 0,\n  FAIL: 1,\n  DISC: 2,\n  LOST: 3,\n  RESTORE: 4,\n  ETH: 5\n}\nconst taskStates = {\n  0: 'eRunning',\n  /*! < A task is querying the state of itself, so must be running. */\n  1: 'eReady',\n  /*! < The task being queried is in a read or pending ready list. */\n  2: 'eBlocked',\n  /*! < The task being queried is in the Blocked state. */\n  3: 'eSuspended',\n  /*! < The task being queried is in the Suspended state, or is in the Blocked state with an infinite time out. */\n  4: 'eDeleted',\n};\nlet flashState = {\n  NONE: 0,\n  REBOOT_TO_RECOVERY: 2,\n  SET_FWURL: 5,\n  FLASHING: 6,\n  DONE: 7,\n  UPLOADING: 8,\n  ERROR: 9,\n  UPLOADCOMPLETE: 10,\n  _state: -1,\n  olderRecovery: false,\n  statusText: '',\n  flashURL: '',\n  flashFileName: '',\n  statusPercent: 0,\n  Completed: false,\n  recovery: false,\n  prevRecovery: false,\n  updateModal: new bootstrap.Modal(document.getElementById('otadiv'), {}),\n  reset: function () {\n\n    this.olderRecovery = false;\n    this.statusText = '';\n    this.statusPercent = -1;\n    this.flashURL = '';\n    this.flashFileName = undefined;\n    this.UpdateProgress();\n    $('#rTable tr.release').removeClass('table-success table-warning');\n    $('.flact').prop('disabled', false);\n    $('#flashfilename').value = null;\n    $('#fw-url-input').value = null;\n    if (!this.isStateError()) {\n      $('span#flash-status').html('');\n      $('#fwProgressLabel').parent().removeClass('bg-danger');\n    }\n    this._state = this.NONE\n    return this;\n  },\n  isStateUploadComplete: function () {\n    return this._state == this.UPLOADCOMPLETE;\n  },\n  isStateError: function () {\n    return this._state == this.ERROR;\n  },\n  isStateNone: function () {\n    return this._state == this.NONE;\n  },\n  isStateRebootRecovery: function () {\n    return this._state == this.REBOOT_TO_RECOVERY;\n  },\n  isStateSetUrl: function () {\n    return this._state == this.SET_FWURL;\n  },\n  isStateFlashing: function () {\n    return this._state == this.FLASHING;\n  },\n  isStateDone: function () {\n    return this._state == this.DONE;\n  },\n  isStateUploading: function () {\n    return this._state == this.UPLOADING;\n  },\n  init: function () {\n    this._state = this.NONE;\n    return this;\n  },\n\n  SetStateError: function () {\n    this._state = this.ERROR;\n    $('#fwProgressLabel').parent().addClass('bg-danger');\n    return this;\n  },\n  SetStateNone: function () {\n    this._state = this.NONE;\n    return this;\n  },\n  SetStateRebootRecovery: function () {\n    this._state = this.REBOOT_TO_RECOVERY;\n    // Reboot system to recovery mode\n    this.SetStatusText('Starting recovery mode.')\n    $.ajax({\n      url: '/recovery.json',\n      context: this,\n      dataType: 'text',\n      method: 'POST',\n      cache: false,\n      contentType: 'application/json; charset=utf-8',\n      data: JSON.stringify({\n        timestamp: Date.now(),\n      }),\n      error: function (xhr, _ajaxOptions, thrownError) {\n        this.setOTAError(`Unexpected error while trying to restart to recovery. (status=${xhr.status ?? ''}, error=${thrownError ?? ''} ) `);\n      },\n      complete: function (response) {\n        this.SetStatusText('Waiting for system to boot.')\n      },\n    });\n    return this;\n  },\n  SetStateSetUrl: function () {\n    this._state = this.SET_FWURL;\n    this.statusText = 'Sending firmware download location.';\n    let confData = {\n      fwurl: {\n        value: this.flashURL,\n        type: 33,\n      }\n    };\n    post_config(confData);\n    return this;\n  },\n  SetStateFlashing: function () {\n    this._state = this.FLASHING;\n    return this;\n  },\n  SetStateDone: function () {\n    this._state = this.DONE;\n    this.reset();\n    return this;\n  },\n  SetStateUploading: function () {\n    this._state = this.UPLOADING;\n    return this.SetStatusText('Sending file to device.');\n  },\n  SetStateUploadComplete: function () {\n    this._state = this.UPLOADCOMPLETE;\n    return this;\n  },\n\n  isFlashExecuting: function () {\n    return true === (this._state != this.UPLOADING && (this.statusText !== '' || this.statusPercent >= 0));\n  },\n\n\n\n  toString: function () {\n    let keys = Object.keys(this);\n    return keys.find(x => this[x] === this._state);\n  },\n\n  setOTATargets: function () {\n    this.flashURL = '';\n    this.flashFileName = '';\n    this.flashURL = $('#fw-url-input').val();\n    let fileInput = $('#flashfilename')[0].files;\n    if (fileInput.length > 0) {\n      this.flashFileName = fileInput[0];\n    }\n    if (this.flashFileName.length == 0 && this.flashURL.length == 0) {\n      this.setOTAError('Invalid url or file. Cannot start OTA');\n    }\n    return this;\n  },\n\n  setOTAError: function (message) {\n    this.SetStateError().SetStatusPercent(0).SetStatusText(message).reset();\n    return this;\n  },\n\n  ShowDialog: function () {\n    if (!this.isStateNone()) {\n      this.updateModal.show();\n      $('.flact').prop('disabled', true);\n    }\n    return this;\n  },\n\n  SetStatusPercent: function (pct) {\n    var pctChanged = (this.statusPercent != pct);\n    this.statusPercent = pct;\n    if (pctChanged) {\n      if (!this.isStateUploading() && !this.isStateFlashing()) {\n        this.SetStateFlashing();\n      }\n      if (pct == 100) {\n        if (this.isStateFlashing()) {\n          this.SetStateDone();\n        }\n        else if (this.isStateUploading()) {\n          this.statusPercent = 0;\n          this.SetStateFlashing();\n        }\n      }\n      this.UpdateProgress().ShowDialog();\n    }\n    return this;\n  },\n  SetStatusText: function (txt) {\n    var changed = (this.statusText != txt);\n    this.statusText = txt;\n    if (changed) {\n      $('span#flash-status').html(this.statusText);\n      this.ShowDialog();\n    }\n\n    return this;\n  },\n  UpdateProgress: function () {\n    $('.progress-bar')\n      .css('width', this.statusPercent + '%')\n      .attr('aria-valuenow', this.statusPercent)\n      .text(this.statusPercent + '%')\n    $('.progress-bar').html((this.isStateDone() ? 100 : this.statusPercent) + '%');\n    return this;\n  },\n  StartOTA: function () {\n    this.logEvent(this.StartOTA.name);\n    $('#fwProgressLabel').parent().removeClass('bg-danger');\n    this.setOTATargets();\n    if (this.isStateError()) {\n      return this;\n    }\n    if (!recovery) {\n      this.SetStateRebootRecovery();\n    }\n    else {\n      this.SetStateFlashing().TargetReadyStartOTA();\n    }\n\n    return this;\n  },\n  UploadLocalFile: function () {\n    this.SetStateUploading();\n    const xhttp = new XMLHttpRequest();\n    xhttp.context = this;\n    var boundHandleUploadProgressEvent = this.HandleUploadProgressEvent.bind(this);\n    var boundsetOTAError = this.setOTAError.bind(this);\n    xhttp.upload.addEventListener(\"progress\", boundHandleUploadProgressEvent, false);\n    xhttp.onreadystatechange = function () {\n      if (xhttp.readyState === 4) {\n        if (xhttp.status === 0 || xhttp.status === 404) {\n          boundsetOTAError(`Upload Failed. Recovery version might not support uploading. Please use web update instead.`);\n        }\n      }\n    };\n    xhttp.open('POST', '/flash.json', true);\n    xhttp.send(this.flashFileName);\n  },\n  TargetReadyStartOTA: function () {\n    if (recovery && this.prevRecovery && !this.isStateRebootRecovery() && !this.isStateFlashing()) {\n      // this should only execute once, while being in a valid state\n      return this;\n    }\n\n    this.logEvent(this.TargetReadyStartOTA.name);\n    if (!recovery) {\n      console.error('Event TargetReadyStartOTA fired in the wrong mode ');\n      return this;\n    }\n    this.prevRecovery = true;\n\n    if (this.flashFileName !== '') {\n      this.UploadLocalFile();\n    }\n    else if (this.flashURL != '') {\n      this.SetStateSetUrl();\n    }\n    else {\n      this.setOTAError('Invalid URL or file name while trying to start the OTa process')\n    }\n  },\n  HandleUploadProgressEvent: function (data) {\n    this.logEvent(this.HandleUploadProgressEvent.name);\n    this.SetStateUploading().SetStatusPercent(Math.round(data.loaded / data.total * 100)).SetStatusText('Uploading file to device');\n  },\n  EventTargetStatus: function (data) {\n    if (!this.isStateNone()) {\n      this.logEvent(this.EventTargetStatus.name);\n    }\n    if (data.ota_pct ?? -1 >= 0) {\n      this.olderRecovery = true;\n      this.SetStatusPercent(data.ota_pct);\n    }\n    if ((data.ota_dsc ?? '') != '') {\n      this.olderRecovery = true;\n      this.SetStatusText(data.ota_dsc);\n    }\n\n    if (data.recovery != undefined) {\n      this.recovery = data.recovery === 1 ? true : false;\n    }\n    if (this.isStateRebootRecovery() && this.recovery) {\n      this.TargetReadyStartOTA();\n    }\n  },\n  EventOTAMessageClass: function (data) {\n    this.logEvent(this.EventOTAMessageClass.name);\n    var otaData = JSON.parse(data);\n    this.SetStatusPercent(otaData.ota_pct).SetStatusText(otaData.ota_dsc);\n  },\n  logEvent: function (fun) {\n    console.log(`${fun}, flash state ${this.toString()}, recovery: ${this.recovery}, ota pct: ${this.statusPercent}, ota desc: ${this.statusText}`);\n  }\n\n};\nwindow.hideSurrounding = function (obj) {\n  $(obj).parent().parent().hide();\n}\n\nlet presetsloaded = false;\nlet is_i2c_locked = false;\nlet statusInterval = 2000;\nlet messageInterval = 2500;\nfunction post_config(data) {\n  let confPayload = {\n    timestamp: Date.now(),\n    config: data\n  };\n  $.ajax({\n    url: '/config.json',\n    dataType: 'text',\n    method: 'POST',\n    cache: false,\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(confPayload),\n    error: handleExceptionResponse,\n  });\n}\n\n\nwindow.hFlash = function () {\n  // reset file upload selection if any;\n  $('#flashfilename').value = null\n  flashState.StartOTA();\n}\nwindow.handleReboot = function (link) {\n  if (link == 'reboot_ota') {\n    $('#reboot_ota_nav').removeClass('active').prop(\"disabled\", true); delayReboot(500, '', 'reboot_ota');\n  }\n  else {\n    $('#reboot_nav').removeClass('active'); delayReboot(500, '', link);\n  }\n}\n\nfunction parseSqueezeliteCommandLine(commandLine) {\n  const options = {};\n  let output, name;\n  let otherValues = '';\n\n  const argRegex = /(\"[^\"]+\"|'[^']+'|\\S+)/g;\n  const args = commandLine.match(argRegex);\n\n  let i = 0;\n\n  while (i < args.length) {\n    const arg = args[i];\n\n    if (arg.startsWith('-')) {\n      const option = arg.slice(1);\n\n      if (option === '') {\n        otherValues += args.slice(i).join(' ');\n        break;\n      }\n\n      let value = true;\n\n      if (i + 1 < args.length && !args[i + 1].startsWith('-')) {\n        value = args[i + 1].replace(/\"/g, '').replace(/'/g, '');\n        i++;\n      }\n\n      options[option] = value;\n    } else {\n      otherValues += arg + ' ';\n    }\n\n    i++;\n  }\n\n  otherValues = otherValues.trim();\n  output = getOutput(options);\n  name = getName(options);\n  let otherOptions={btname:null,n:null};\n  // assign o and n options to otheroptions if present\n  if (options.o && output.toUpperCase() === 'BT') {\n    let temp = parseSqueezeliteCommandLine(options.o);\n    if(temp.name) {\n      otherOptions.btname = temp.name;\n    }\n    delete options.o;\n  }\n  if (options.n) {\n    otherOptions['n'] = options.n;\n    delete options.n;\n  }\n  return { name, output, options, otherValues,otherOptions };  \n}\n\nfunction getOutput(options) {\n  let output;\n  if (options.o){\n    output = options.o.replace(/\"/g, '').replace(/'/g, '');\n    /* set output as the first alphanumerical word in the command line */\n    if (output.indexOf(' ') > 0) {\n      output = output.substring(0, output.indexOf(' '));\n    }\n  }\n  return output;\n}\n\nfunction getName(options) {\n  let name;\n  /* if n option present, assign to name variable */\n  if (options.n){\n    name = options.n.replace(/\"/g, '').replace(/'/g, '');\n  }\n  return name;\n}\n\n\nfunction isConnected() {\n  return ConnectedTo.hasOwnProperty('ip') && ConnectedTo.ip != '0.0.0.0' && ConnectedTo.ip != '';\n}\nfunction getIcon(icons) {\n  return isConnected() ? icons.icon : icons.label;\n}\nfunction handlebtstate(data) {\n  let icon = '';\n  let tt = '';\n  if (data.bt_status !== undefined && data.bt_sub_status !== undefined) {\n    const iconindex = btStateIcons[data.bt_status].sub[data.bt_sub_status];\n    if (iconindex) {\n      icon = btIcons[iconindex];\n      tt = btStateIcons[data.bt_status].desc;\n    } else {\n      icon = btIcons.bt_connected;\n      tt = 'Output status';\n    }\n  }\n\n  $('#o_type').attr('title', tt);\n  $('#o_bt').html(isConnected() ? icon.label : icon.text);\n}\nfunction handleTemplateTypeRadio(outtype) {\n  $('#o_type').children('span').css({ display: 'none' });\n  let changed = false;\n  if (outtype === 'bt') {\n    changed = output !== 'bt' && output !== '';\n    output = 'bt';\n  } else if (outtype === 'spdif') {\n    changed = output !== 'spdif' && output !== '';\n    output = 'spdif';\n  } else {\n    changed = output !== 'i2s' && output !== '';\n    output = 'i2s';\n  }\n  $('#' + output).prop('checked', true);\n  $('#o_' + output).css({ display: 'inline' });\n  if (changed) {\n    Object.keys(commandDefaults[output]).forEach(function (key) {\n      $(`#cmd_opt_${key}`).val(commandDefaults[output][key]);\n    });\n  }\n}\n\nfunction handleExceptionResponse(xhr, _ajaxOptions, thrownError) {\n  console.log(xhr.status);\n  console.log(thrownError);\n  if (thrownError !== '') {\n    showLocalMessage(thrownError, 'MESSAGING_ERROR');\n  }\n}\nfunction HideCmdMessage(cmdname) {\n  $('#toast_' + cmdname)\n    .removeClass('table-success')\n    .removeClass('table-warning')\n    .removeClass('table-danger')\n    .addClass('table-success')\n    .removeClass('show');\n  $('#msg_' + cmdname).html('');\n}\nfunction showCmdMessage(cmdname, msgtype, msgtext, append = false) {\n  let color = 'table-success';\n  if (msgtype === 'MESSAGING_WARNING') {\n    color = 'table-warning';\n  } else if (msgtype === 'MESSAGING_ERROR') {\n    color = 'table-danger';\n  }\n  $('#toast_' + cmdname)\n    .removeClass('table-success')\n    .removeClass('table-warning')\n    .removeClass('table-danger')\n    .addClass(color)\n    .addClass('show');\n  // Remove trailing newline if present, but don't blindly cut last char\n  let trimmedText = msgtext.endsWith('\\n') ? msgtext.slice(0, -1) : msgtext;\n  let escapedtext = trimmedText\n    .encodeHTML()\n    .replace(/\\n/g, '<br />');\n  escapedtext =\n    ($('#msg_' + cmdname).html().length > 0 && append\n      ? $('#msg_' + cmdname).html() + '<br/>'\n      : '') + escapedtext;\n  $('#msg_' + cmdname).html(escapedtext);\n}\n\nlet releaseURL =\n  'https://api.github.com/repos/sle118/squeezelite-esp32/releases';\n\nlet recovery = false;\nlet messagesHeld = false;\nlet commandBTSinkName = '';\nconst commandHeader = 'squeezelite ';\nconst commandDefaults = {\n  i2s: { b: \"500:2000\", C: \"30\", W: \"\", Z: \"96000\", o: \"I2S\" },\n  spdif: { b: \"500:2000\", C: \"30\", W: \"\", Z: \"48000\", o: \"SPDIF\" },\n  bt: { b: \"500:2000\", C: \"30\", W: \"\", Z: \"44100\", o: \"BT\" },\n};\nlet validOptions = {\n  codecs: ['flac', 'pcm', 'mp3', 'ogg', 'aac', 'wma', 'alac', 'dsd', 'mad', 'mpg']\n};\n\n//let blockFlashButton = false;\nlet apList = null;\n//let selectedSSID = '';\n//let checkStatusInterval = null;\nlet messagecount = 0;\nlet messageseverity = 'MESSAGING_INFO';\nlet SystemConfig = {};\nlet LastCommandsState = null;\nvar output = '';\nlet hostName = '';\nlet versionName = 'Squeezelite-ESP32';\nlet prevmessage = '';\nlet project_name = versionName;\nlet depth = 16;\nlet board_model = '';\nlet platform_name = versionName;\nlet preset_name = '';\nlet btSinkNamesOptSel = '#cfg-audio-bt_source-sink_name';\nlet ConnectedTo = {};\nlet ConnectingToSSID = {};\nlet lmsBaseUrl;\nlet prevLMSIP = '';\nconst ConnectingToActions = {\n  'CONN': 0, 'MAN': 1, 'STS': 2,\n}\n\nPromise.prototype.delay = function (duration) {\n  return this.then(\n    function (value) {\n      return new Promise(function (resolve) {\n        setTimeout(function () {\n          resolve(value);\n        }, duration);\n      });\n    },\n    function (reason) {\n      return new Promise(function (_resolve, reject) {\n        setTimeout(function () {\n          reject(reason);\n        }, duration);\n      });\n    }\n  );\n};\n\nfunction getConfigJson(slimMode) {\n  const config = {};\n  $('input.nvs').each(function (_index, entry) {\n    if (!slimMode) {\n      const nvsType = parseInt(entry.attributes.nvs_type.value, 10);\n      if (entry.id !== '') {\n        config[entry.id] = {};\n        if (\n          nvsType === nvsTypes.NVS_TYPE_U8 ||\n          nvsType === nvsTypes.NVS_TYPE_I8 ||\n          nvsType === nvsTypes.NVS_TYPE_U16 ||\n          nvsType === nvsTypes.NVS_TYPE_I16 ||\n          nvsType === nvsTypes.NVS_TYPE_U32 ||\n          nvsType === nvsTypes.NVS_TYPE_I32 ||\n          nvsType === nvsTypes.NVS_TYPE_U64 ||\n          nvsType === nvsTypes.NVS_TYPE_I64\n        ) {\n          config[entry.id].value = parseInt(entry.value);\n        } else {\n          config[entry.id].value = entry.value;\n        }\n        config[entry.id].type = nvsType;\n      }\n    } else {\n      config[entry.id] = entry.value;\n    }\n  });\n  const key = $('#nvs-new-key').val();\n  const val = $('#nvs-new-value').val();\n  if (key !== '') {\n    if (!slimMode) {\n      config[key] = {};\n      config[key].value = val;\n      config[key].type = 33;\n    } else {\n      config[key] = val;\n    }\n  }\n  return config;\n}\n\n// Handle cfg-* commands by posting directly to /config.json (bypasses broken /commands.json)\nfunction handleConfigSave(cmdname, allfields, reboot) {\n  let confPayload = {\n    timestamp: Date.now(),\n    config: {\n      // Include command name so backend knows the context (DAC vs SPI vs Display etc.)\n      __cmdname__: {\n        value: cmdname,\n        type: 33\n      }\n    }\n  };\n\n  if (allfields) {\n    for (const field of allfields) {\n      let attr = field.attributes;\n      let isSelect = $(field).is('select');\n      let configKey = attr?.longopts?.value;\n      \n      if (configKey && configKey !== 'undefined') {\n        const hasValue = attr?.hasvalue?.value === 'true';\n        const validVal = (isSelect && field.value !== '--') || (!isSelect && field.value !== '');\n        const isCheckbox = field.type === 'checkbox';\n        \n        if (isCheckbox) {\n          // ALWAYS send checkbox state (checked=true, unchecked=false)\n          confPayload.config[configKey] = {\n            value: field.checked ? 'true' : 'false',\n            type: 33\n          };\n          showCmdMessage(cmdname, 'MESSAGING_INFO', `Setting ${configKey}=${field.checked}`, true);\n        } else if (hasValue && validVal) {\n          confPayload.config[configKey] = {\n            value: field.value,\n            type: 33\n          };\n          showCmdMessage(cmdname, 'MESSAGING_INFO', `Setting ${configKey}=${field.value}`, true);\n        }\n      }\n    }\n  }\n\n  console.log('handleConfigSave payload:', confPayload);\n  \n  $.ajax({\n    url: '/config.json',\n    dataType: 'text',\n    method: 'POST',\n    cache: false,\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(confPayload),\n    error: function (xhr, _ajaxOptions, thrownError) {\n      handleExceptionResponse(xhr, _ajaxOptions, thrownError);\n      showCmdMessage(cmdname, 'MESSAGING_ERROR', \n        `Error ${(thrownError !== '') ? thrownError : 'status=' + xhr.status}`, true);\n    },\n    success: function (response) {\n      showCmdMessage(cmdname, 'MESSAGING_INFO', 'Save Success', true);\n      console.log(response);\n      if (reboot) {\n        delayReboot(2500, cmdname);\n      }\n    },\n  });\n}\n\nfunction handleHWPreset(allfields, reboot) {\n\n  const selJson = JSON.parse(allfields[0].value);\n  var cmd = allfields[0].attributes.cmdname.value;\n\n  console.log(`selected model: ${selJson.name}`);\n  let confPayload = {\n    timestamp: Date.now(),\n    config: { model_config: { value: selJson.name, type: 33 } }\n  };\n  for (const [name, value] of Object.entries(selJson.config)) {\n    const storedval = (typeof value === 'string' || value instanceof String) ? value : JSON.stringify(value);\n    confPayload.config[name] = {\n      value: storedval,\n      type: 33,\n    }\n    showCmdMessage(\n      cmd,\n      'MESSAGING_INFO',\n      `Setting ${name}=${storedval} `,\n      true\n    );\n  }\n\n  showCmdMessage(\n    cmd,\n    'MESSAGING_INFO',\n    `Committing `,\n    true\n  );\n  $.ajax({\n    url: '/config.json',\n    dataType: 'text',\n    method: 'POST',\n    cache: false,\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(confPayload),\n    error: function (xhr, _ajaxOptions, thrownError) {\n      handleExceptionResponse(xhr, _ajaxOptions, thrownError);\n      showCmdMessage(\n        cmd,\n        'MESSAGING_ERROR',\n        `Unexpected error ${(thrownError !== '') ? thrownError : 'with return status = ' + xhr.status} `,\n        true\n      );\n    },\n    success: function (response) {\n      showCmdMessage(\n        cmd,\n        'MESSAGING_INFO',\n        `Saving complete `,\n        true\n      );\n      console.log(response);\n      if (reboot) {\n        delayReboot(2500, cmd);\n      }\n    },\n  });\n}\n\n\n// pull json file from https://gist.githubusercontent.com/sle118/dae585e157b733a639c12dc70f0910c5/raw/b462691f69e2ad31ac95c547af6ec97afb0f53db/squeezelite-esp32-presets.json and\nfunction loadPresets() {\n  if ($(\"#cfg-hw-preset-model_config\").length == 0) return;\n  if (presetsloaded) return;\n  presetsloaded = true;\n  $('#cfg-hw-preset-model_config').html('<option>--</option>');\n  $.getJSON(\n    'https://gist.githubusercontent.com/sle118/dae585e157b733a639c12dc70f0910c5/raw/',\n    { _: new Date().getTime() },\n    function (data) {\n      $.each(data, function (key, val) {\n        $('#cfg-hw-preset-model_config').append(`<option value='${JSON.stringify(val).replace(/\"/g, '\\\"').replace(/\\'/g, '\\\"')}'>${val.name}</option>`);\n        if (preset_name !== '' && preset_name == val.name) {\n          $('#cfg-hw-preset-model_config').val(preset_name);\n        }\n      });\n      if (preset_name !== '') {\n        ('#prev_preset').show().val(preset_name);\n      }\n    }\n\n  ).fail(function (jqxhr, textStatus, error) {\n    const err = textStatus + ', ' + error;\n    console.log('Request Failed: ' + err);\n  }\n  );\n}\n\nfunction delayReboot(duration, cmdname, ota = 'reboot') {\n  const url = '/' + ota + '.json';\n  $('tbody#tasks').empty();\n  $('#tasks_sect').css('visibility', 'collapse');\n  Promise.resolve({ cmdname: cmdname, url: url })\n    .delay(duration)\n    .then(function (data) {\n      if (data.cmdname.length > 0) {\n        showCmdMessage(\n          data.cmdname,\n          'MESSAGING_WARNING',\n          'System is rebooting.\\n',\n          true\n        );\n      } else {\n        showLocalMessage('System is rebooting.\\n', 'MESSAGING_WARNING');\n      }\n      console.log('now triggering reboot');\n      $(\"button[onclick*='handleReboot']\").addClass('rebooting');\n      $.ajax({\n        url: data.url,\n        dataType: 'text',\n        method: 'POST',\n        cache: false,\n        contentType: 'application/json; charset=utf-8',\n        data: JSON.stringify({\n          timestamp: Date.now(),\n        }),\n        error: handleExceptionResponse,\n        complete: function () {\n          console.log('reboot call completed');\n          Promise.resolve(data)\n            .delay(6000)\n            .then(function (rdata) {\n              if (rdata.cmdname.length > 0) {\n                HideCmdMessage(rdata.cmdname);\n              }\n              getCommands();\n              getConfig();\n            });\n        },\n      });\n    });\n}\n// eslint-disable-next-line no-unused-vars\nwindow.saveAutoexec1 = function (apply) {\n  showCmdMessage('cfg-audio-tmpl', 'MESSAGING_INFO', 'Saving.\\n', false);\n  let commandLine = `${commandHeader} -o ${output} `;\n  $('.sqcmd').each(function () {\n    let { opt, val } = get_control_option_value($(this));\n    if ((opt && opt.length>0 ) && typeof(val) == 'boolean' || val.length > 0) {\n      const optStr=opt===':'?opt:(` -${opt} `);\n      val = typeof(val) == 'boolean'?'':val;\n      commandLine += `${optStr} ${val}`;\n    }\n  });\n  const resample=$('#cmd_opt_R input[name=resample]:checked');\n  if (resample.length>0 && resample.attr('suffix')!=='') {\n    commandLine += resample.attr('suffix');\n    // now check resample_i option and if checked, add suffix to command line\n    if ($('#resample_i').is(\":checked\") && resample.attr('aint') =='true')  {\n          commandLine += $('#resample_i').attr('suffix');\n    }\n}\n\n    \n  if (output === 'bt') {\n    showCmdMessage(\n      'cfg-audio-tmpl',\n      'MESSAGING_INFO',\n      'Remember to configure the Bluetooth audio device name.\\n',\n      true\n    );\n  }\n  commandLine += concatenateOptions(options);\n  const data = {\n    timestamp: Date.now(),\n  };\n  data.config = {\n    autoexec1: { value: commandLine, type: 33 },\n    // autoexec: {\n    //   value: $('#disable-squeezelite').prop('checked') ? '0' : '1',\n    //   type: 33,\n    // },\n  };\n\n  $.ajax({\n    url: '/config.json',\n    dataType: 'text',\n    method: 'POST',\n    cache: false,\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(data),\n    error: handleExceptionResponse,\n    complete: function (response) {\n      if (\n        response.responseText &&\n        JSON.parse(response.responseText).result === 'OK'\n      ) {\n        showCmdMessage('cfg-audio-tmpl', 'MESSAGING_INFO', 'Done.\\n', true);\n        if (apply) {\n          delayReboot(1500, 'cfg-audio-tmpl');\n        }\n      } else if (JSON.parse(response.responseText).result) {\n        showCmdMessage(\n          'cfg-audio-tmpl',\n          'MESSAGING_WARNING',\n          JSON.parse(response.responseText).Result + '\\n',\n          true\n        );\n      } else {\n        showCmdMessage(\n          'cfg-audio-tmpl',\n          'MESSAGING_ERROR',\n          response.statusText + '\\n'\n        );\n      }\n      console.log(response.responseText);\n    },\n  });\n  console.log('sent data:', JSON.stringify(data));\n}\nwindow.handleDisconnect = function () {\n  $.ajax({\n    url: '/connect.json',\n    dataType: 'text',\n    method: 'DELETE',\n    cache: false,\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify({\n      timestamp: Date.now(),\n    }),\n  });\n}\nfunction setPlatformFilter(val) {\n  if ($('.upf').filter(function () { return $(this).text().toUpperCase() === val.toUpperCase() }).length > 0) {\n    $('#splf').val(val).trigger('input');\n    return true;\n  }\n  return false;\n}\nwindow.handleConnect = function () {\n  ConnectingToSSID.ssid = $('#manual_ssid').val();\n  ConnectingToSSID.pwd = $('#manual_pwd').val();\n  ConnectingToSSID.dhcpname = $('#dhcp-name2').val();\n  $(\"*[class*='connecting']\").hide();\n  $('#ssid-wait').text(ConnectingToSSID.ssid);\n  $('.connecting').show();\n  $.ajax({\n    url: '/connect.json',\n    dataType: 'text',\n    method: 'POST',\n    cache: false,\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify({\n      timestamp: Date.now(),\n      ssid: ConnectingToSSID.ssid,\n      pwd: ConnectingToSSID.pwd\n    }),\n    error: handleExceptionResponse,\n  });\n\n  // now we can re-set the intervals regardless of result\n\n}\nfunction renderError(opt,error){\n  const fieldname = `cmd_opt_${opt}`;\n  let errorFieldName=`${fieldname}-error`;\n  let errorField=$(`#${errorFieldName}`);\n  let field=$(`#${fieldname}`);\n  \n  if (!errorField || errorField.length ==0) {\n    field.after(`<div id=\"${errorFieldName}\" class=\"invalid-feedback\"></div>`);\n    errorField=$(`#${errorFieldName}`);\n  }\n  if(error.length ==0){\n      errorField.hide();\n      field.removeClass('is-invalid');\n      field.addClass('is-valid');\n      errorField.text('');\n  }\n  else {     \n      errorField.show();\n      errorField.text(error);\n      field.removeClass('is-valid');\n      field.addClass('is-invalid');\n  }\n  return errorField;\n}\n$(document).ready(function () {\n  $('.material-icons').each(function (_index, entry) {\n    entry.attributes['icon'] = entry.textContent;\n  });\n  setIcons(true);\n  handleNVSVisible();\n  flashState.init();\n  $('#fw-url-input').on('input', function () {\n    if ($(this).val().length > 8 && ($(this).val().startsWith('http://') || $(this).val().startsWith('https://'))) {\n      $('#start-flash').show();\n    }\n    else {\n      $('#start-flash').hide();\n    }\n  });\n  $('.upSrch').on('input', function () {\n    const val = this.value;\n    $(\"#rTable tr\").removeClass(this.id + '_hide');\n    if (val.length > 0) {\n      $(`#rTable td:nth-child(${$(this).parent().index() + 1})`).filter(function () {\n        return !$(this).text().toUpperCase().includes(val.toUpperCase());\n      }).parent().addClass(this.id + '_hide');\n    }\n    $('[class*=\"_hide\"]').hide();\n    $('#rTable tr').not('[class*=\"_hide\"]').show()\n\n  });\n  setTimeout(refreshAP, 1500);\n  /* add validation for cmd_opt_c, which accepts a comma separated list. \n    getting known codecs from validOptions.codecs array\n    use bootstrap classes to highlight the error with an overlay message */\n  $('#options input').on('input', function () {\n    const { opt, val } = get_control_option_value(this);\n    if (opt === 'c' || opt === 'e') {\n      const fieldname = `cmd_opt_${opt}_codec-error`;\n      \n      const values = val.split(',').map(function (item) {\n        return item.trim();\n      });\n      /* get a list of invalid codecs */\n      const invalid = values.filter(function (item) {\n        return !validOptions.codecs.includes(item);\n      });\n      renderError(opt,invalid.length > 0 ? `Invalid codec(s) ${invalid.join(', ')}` : '');\n    }\n    /* add validation for cmd_opt_m, which accepts a mac_address */\n    if (opt === 'm') {\n      const mac_regex = /^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/;\n      renderError(opt,mac_regex.test(val) ? '' : 'Invalid MAC address');\n    }\n    if (opt === 'r') {\n        const rateRegex =  /^(\\d+\\.?\\d*|\\.\\d+)-(\\d+\\.?\\d*|\\.\\d+)$|^(\\d+\\.?\\d*)$|^(\\d+\\.?\\d*,)+\\d+\\.?\\d*$/;\n        renderError(opt,rateRegex.test(val)?'':`Invalid rate(s) ${val}. Acceptable format: <maxrate>|<minrate>-<maxrate>|<rate1>,<rate2>,<rate3>`);\n    }\n\n\n\n  }\n\n\n  );\n\n\n\n\n\n  $('#WifiConnectDialog')[0].addEventListener('shown.bs.modal', function (event) {\n    $(\"*[class*='connecting']\").hide();\n\n    if (event?.relatedTarget) {\n      ConnectingToSSID.Action = ConnectingToActions.CONN;\n      if ($(event.relatedTarget).children('td:eq(1)').text() == ConnectedTo.ssid) {\n        ConnectingToSSID.Action = ConnectingToActions.STS;\n      }\n      else {\n        if (!$(event.relatedTarget).is(':last-child')) {\n          ConnectingToSSID.ssid = $(event.relatedTarget).children('td:eq(1)').text();\n          $('#manual_ssid').val(ConnectingToSSID.ssid);\n        }\n        else {\n          ConnectingToSSID.Action = ConnectingToActions.MAN;\n          ConnectingToSSID.ssid = '';\n          $('#manual_ssid').val(ConnectingToSSID.ssid);\n        }\n      }\n    }\n\n\n    if (ConnectingToSSID.Action !== ConnectingToActions.STS) {\n      $('.connecting-init').show();\n      $('#manual_ssid').trigger('focus');\n    }\n    else {\n      handleWifiDialog();\n    }\n  });\n\n  $('#WifiConnectDialog')[0].addEventListener('hidden.bs.modal', function () {\n    $('#WifiConnectDialog input').val('');\n  });\n\n  $('#uCnfrm')[0].addEventListener('shown.bs.modal', function () {\n    $('#selectedFWURL').text($('#fw-url-input').val());\n  });\n\n  $('input#show-commands')[0].checked = LastCommandsState === 1;\n  $('a[href^=\"#tab-commands\"]').hide();\n  $('#load-nvs').on('click', function () {\n    $('#nvsfilename').trigger('click');\n  });\n  $('#nvsfilename').on('change', function () {\n    if (typeof window.FileReader !== 'function') {\n      throw \"The file API isn't supported on this browser.\";\n    }\n    if (!this.files) {\n      throw 'This browser does not support the `files` property of the file input.';\n    }\n    if (!this.files[0]) {\n      return undefined;\n    }\n\n    const file = this.files[0];\n    let fr = new FileReader();\n    fr.onload = function (e) {\n      let data = {};\n      try {\n        data = JSON.parse(e.target.result);\n      } catch (ex) {\n        alert('Parsing failed!\\r\\n ' + ex);\n      }\n      $('input.nvs').each(function (_index, entry) {\n        $(this).parent().removeClass('bg-warning').removeClass('bg-success');\n        if (data[entry.id]) {\n          if (data[entry.id] !== entry.value) {\n            console.log(\n              'Changed ' + entry.id + ' ' + entry.value + '==>' + data[entry.id]\n            );\n            $(this).parent().addClass('bg-warning');\n            $(this).val(data[entry.id]);\n          }\n          else {\n            $(this).parent().addClass('bg-success');\n          }\n        }\n      });\n      var changed = $(\"input.nvs\").children('.bg-warning');\n      if (changed) {\n        alert('Highlighted values were changed. Press Commit to change on the device');\n      }\n    }\n    fr.readAsText(file);\n    this.value = null;\n\n  }\n  );\n  $('#clear-syslog').on('click', function () {\n    messagecount = 0;\n    messageseverity = 'MESSAGING_INFO';\n    $('#msgcnt').text('');\n    $('#syslogTable').html('');\n  });\n\n  $('#ok-credits').on('click', function () {\n    $('#credits').slideUp('fast', function () { });\n    $('#app').slideDown('fast', function () { });\n  });\n\n  $('#acredits').on('click', function (event) {\n    event.preventDefault();\n    $('#app').slideUp('fast', function () { });\n    $('#credits').slideDown('fast', function () { });\n  });\n\n  $('input#show-commands').on('click', function () {\n    this.checked = this.checked ? 1 : 0;\n    if (this.checked) {\n      $('a[href^=\"#tab-commands\"]').show();\n      LastCommandsState = 1;\n    } else {\n      LastCommandsState = 0;\n      $('a[href^=\"#tab-commands\"]').hide();\n    }\n  });\n\n  $('#disable-squeezelite').on('click', function () {\n    // this.checked = this.checked ? 1 : 0;\n    // $('#disable-squeezelite').prop('checked')\n    if (this.checked) {\n      // Store the current value before overwriting it\n      const currentValue = $('#cmd_opt_s').val();\n      $('#cmd_opt_s').data('originalValue', currentValue);\n    \n      // Overwrite the value with '-disable'\n      $('#cmd_opt_s').val('-disable');\n    } else {\n      // Retrieve the original value\n      const originalValue = $('#cmd_opt_s').data('originalValue');\n    \n      // Restore the original value if it exists, otherwise set it to an empty string\n      $('#cmd_opt_s').val(originalValue ? originalValue : '');\n    }\n    \n  });\n\n  \n\n  $('input#show-nvs').on('click', function () {\n    this.checked = this.checked ? 1 : 0;\n    Cookies.set(\"show-nvs\", this.checked ? 'Y' : 'N');\n    handleNVSVisible();\n  });\n  $('#btn_reboot_recovery').on('click', function () {\n    handleReboot('recovery');\n  });\n  $('#btn_reboot').on('click', function () {\n    handleReboot('reboot');\n  });\n  $('#btn_flash').on('click', function () {\n    hFlash();\n  });\n  $('#save-autoexec1').on('click', function () {\n    saveAutoexec1(false);\n  });\n  $('#commit-autoexec1').on('click', function () {\n    saveAutoexec1(true);\n  });\n  $('#btn_disconnect').on('click', function () {\n    ConnectedTo = {};\n    refreshAPHTML2();\n    $.ajax({\n      url: '/connect.json',\n      dataType: 'text',\n      method: 'DELETE',\n      cache: false,\n      contentType: 'application/json; charset=utf-8',\n      data: JSON.stringify({\n        timestamp: Date.now(),\n      }),\n    });\n  });\n  $('#btnJoin').on('click', function () {\n    handleConnect();\n  });\n  $('#reboot_nav').on('click', function () {\n    handleReboot('reboot');\n  });\n  $('#reboot_ota_nav').on('click', function () {\n    handleReboot('reboot_ota');\n  });\n\n  $('#save-as-nvs').on('click', function () {\n    const config = getConfigJson(true);\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(\n      new Blob([JSON.stringify(config, null, 2)], {\n        type: 'text/plain',\n      })\n    );\n    a.setAttribute(\n      'download',\n      'nvs_config_' + hostName + '_' + Date.now() + 'json'\n    );\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  });\n\n  $('#save-nvs').on('click', function () {\n    post_config(getConfigJson(false));\n  });\n\n  $('#fwUpload').on('click', function () {\n    const fileInput = document.getElementById('flashfilename').files;\n    if (fileInput.length === 0) {\n      alert('No file selected!');\n    } else {\n      $('#fw-url-input').value = null;\n      flashState.StartOTA();\n    }\n\n  });\n  $('[name=output-tmpl]').on('click', function () {\n    handleTemplateTypeRadio(this.id);\n  });\n\n  $('#chkUpdates').on('click', function () {\n    $('#rTable').html('');\n    $.getJSON(releaseURL, function (data) {\n      let i = 0;\n      const branches = [];\n      data.forEach(function (release) {\n        const namecomponents = release.name.split('#');\n        const branch = namecomponents[3];\n        if (!branches.includes(branch)) {\n          branches.push(branch);\n        }\n      });\n      let fwb = '';\n      branches.forEach(function (branch) {\n        fwb += '<option value=\"' + branch + '\">' + branch + '</option>';\n      });\n      $('#fwbranch').append(fwb);\n\n      data.forEach(function (release) {\n        let url = '';\n        release.assets.forEach(function (asset) {\n          if (asset.name.match(/\\.bin$/)) {\n            url = asset.browser_download_url;\n          }\n        });\n        const namecomponents = release.name.split('#');\n        const ver = namecomponents[0];\n        const cfg = namecomponents[2];\n        const branch = namecomponents[3];\n        var bits = ver.substr(ver.lastIndexOf('-') + 1);\n        bits = (bits == '32' || bits == '16') ? bits : '';\n\n        let body = release.body;\n        body = body.replace(/'/gi, '\"');\n        body = body.replace(\n          /[\\s\\S]+(### Revision Log[\\s\\S]+)### ESP-IDF Version Used[\\s\\S]+/,\n          '$1'\n        );\n        body = body.replace(/- \\(.+?\\) /g, '- ').encodeHTML();\n        $('#rTable').append(`<tr class='release ' fwurl='${url}'>\n        <td data-bs-toggle='tooltip' title='${body}'>${ver}</td><td>${new Date(release.created_at).toLocalShort()}\n        </td><td class='upf'>${cfg}</td><td>${branch}</td><td>${bits}</td></tr>`\n        );\n      });\n      if (i > 7) {\n        $('#releaseTable').append(\n          \"<tr id='showall'>\" +\n          \"<td colspan='6'>\" +\n          \"<input type='button' id='showallbutton' class='btn btn-info' value='Show older releases' />\" +\n          '</td>' +\n          '</tr>'\n        );\n        $('#showallbutton').on('click', function () {\n          $('tr.hide').removeClass('hide');\n          $('tr#showall').addClass('hide');\n        });\n      }\n      $('#searchfw').css('display', 'inline');\n      if (!setPlatformFilter(platform_name)) {\n        setPlatformFilter(project_name)\n      }\n      $('#rTable tr.release').on('click', function () {\n        var url = this.attributes['fwurl'].value;\n        if (lmsBaseUrl) {\n          url = url.replace(/.*\\/download\\//, lmsBaseUrl + '/plugins/SqueezeESP32/firmware/');\n        }\n        $('#fw-url-input').val(url);\n        $('#start-flash').show();\n        $('#rTable tr.release').removeClass('table-success table-warning');\n        $(this).addClass('table-success table-warning');\n      });\n\n    }).fail(function () {\n      alert('failed to fetch release history!');\n    });\n  });\n  $('#fwcheck').on('click', function () {\n    $('#releaseTable').html('');\n    $('#fwbranch').empty();\n    $.getJSON(releaseURL, function (data) {\n      let i = 0;\n      const branches = [];\n      data.forEach(function (release) {\n        const namecomponents = release.name.split('#');\n        const branch = namecomponents[3];\n        if (!branches.includes(branch)) {\n          branches.push(branch);\n        }\n      });\n      let fwb;\n      branches.forEach(function (branch) {\n        fwb += '<option value=\"' + branch + '\">' + branch + '</option>';\n      });\n      $('#fwbranch').append(fwb);\n\n      data.forEach(function (release) {\n        let url = '';\n        release.assets.forEach(function (asset) {\n          if (asset.name.match(/\\.bin$/)) {\n            url = asset.browser_download_url;\n          }\n        });\n        const namecomponents = release.name.split('#');\n        const ver = namecomponents[0];\n        const idf = namecomponents[1];\n        const cfg = namecomponents[2];\n        const branch = namecomponents[3];\n\n        let body = release.body;\n        body = body.replace(/'/gi, '\"');\n        body = body.replace(\n          /[\\s\\S]+(### Revision Log[\\s\\S]+)### ESP-IDF Version Used[\\s\\S]+/,\n          '$1'\n        );\n        body = body.replace(/- \\(.+?\\) /g, '- ');\n        const trclass = i++ > 6 ? ' hide' : '';\n        $('#releaseTable').append(\n          \"<tr class='release\" +\n          trclass +\n          \"'>\" +\n          \"<td data-bs-toggle='tooltip' title='\" +\n          body +\n          \"'>\" +\n          ver +\n          '</td>' +\n          '<td>' +\n          new Date(release.created_at).toLocalShort() +\n          '</td>' +\n          '<td>' +\n          cfg +\n          '</td>' +\n          '<td>' +\n          idf +\n          '</td>' +\n          '<td>' +\n          branch +\n          '</td>' +\n          \"<td><input type='button' class='btn btn-success' value='Select' data-bs-url='\" +\n          url +\n          \"' onclick='setURL(this);' /></td>\" +\n          '</tr>'\n        );\n      });\n      if (i > 7) {\n        $('#releaseTable').append(\n          \"<tr id='showall'>\" +\n          \"<td colspan='6'>\" +\n          \"<input type='button' id='showallbutton' class='btn btn-info' value='Show older releases' />\" +\n          '</td>' +\n          '</tr>'\n        );\n        $('#showallbutton').on('click', function () {\n          $('tr.hide').removeClass('hide');\n          $('tr#showall').addClass('hide');\n        });\n      }\n      $('#searchfw').css('display', 'inline');\n    }).fail(function () {\n      alert('failed to fetch release history!');\n    });\n  });\n\n  $('#updateAP').on('click', function () {\n    refreshAP();\n    console.log('refresh AP');\n  });\n\n  // first time the page loads: attempt to get the connection status and start the wifi scan\n  getConfig();\n  getCommands();\n  getMessages();\n  checkStatus();\n\n});\n\n// eslint-disable-next-line no-unused-vars\nwindow.setURL = function (button) {\n  let url = button.dataset.url;\n\n  $('[data-bs-url^=\"http\"]')\n    .addClass('btn-success')\n    .removeClass('btn-danger');\n  $('[data-bs-url=\"' + url + '\"]')\n    .addClass('btn-danger')\n    .removeClass('btn-success');\n\n  // if user can proxy download through LMS, modify the URL\n  if (lmsBaseUrl) {\n    url = url.replace(/.*\\/download\\//, lmsBaseUrl + '/plugins/SqueezeESP32/firmware/');\n  }\n\n  $('#fwurl').val(url);\n}\n\n\nfunction rssiToIcon(rssi) {\n  if (rssi >= -55) {\n    return { 'label': '****', 'icon': `signal_wifi_statusbar_4_bar` };\n  } else if (rssi >= -60) {\n    return { 'label': '***', 'icon': `network_wifi_3_bar` };\n  } else if (rssi >= -65) {\n    return { 'label': '**', 'icon': `network_wifi_2_bar` };\n  } else if (rssi >= -70) {\n    return { 'label': '*', 'icon': `network_wifi_1_bar` };\n  } else {\n    return { 'label': '.', 'icon': `signal_wifi_statusbar_null` };\n  }\n}\n\nfunction refreshAP() {\n  if (ConnectedTo?.urc === connectReturnCode.ETH) return;\n  $.ajaxSetup({\n    timeout: 3000 //Time in milliseconds\n  });\n  $.getJSON('/scan.json', async function () {\n    await sleep(2000);\n    $.getJSON('/ap.json', function (data) {\n      if (data.length > 0) {\n        // sort by signal strength\n        data.sort(function (a, b) {\n          const x = a.rssi;\n          const y = b.rssi;\n          // eslint-disable-next-line no-nested-ternary\n          return x < y ? 1 : x > y ? -1 : 0;\n        });\n        apList = data;\n        refreshAPHTML2(apList);\n\n      }\n    });\n  });\n}\nfunction formatAP(ssid, rssi, auth) {\n  const rssi_icon = rssiToIcon(rssi);\n  const auth_icon = { label: auth == 0 ? '' : '', icon: auth == 0 ? 'no_encryption' : 'lock' };\n\n  return `<tr data-bs-toggle=\"modal\" data-bs-target=\"#WifiConnectDialog\"><td></td><td>${ssid}</td><td>\n  <span class=\"material-icons\" style=\"fill:white; display: inline\" aria-label=\"${rssi_icon.label}\" icon=\"${rssi_icon.icon}\" >${getIcon(rssi_icon)}</span>\n  \t</td><td>\n    <span class=\"material-icons\" aria-label=\"${auth_icon.label}\" icon=\"${auth_icon.icon}\">${getIcon(auth_icon)}</span>\n  </td></tr>`;\n}\nfunction refreshAPHTML2(data) {\n  let h = '';\n  $('#wifiTable tr td:first-of-type').text('');\n  $('#wifiTable tr').removeClass('table-success table-warning');\n  if (data) {\n    data.forEach(function (e) {\n      h += formatAP(e.ssid, e.rssi, e.auth);\n    });\n    $('#wifiTable').html(h);\n  }\n  if ($('.manual_add').length == 0) {\n    $('#wifiTable').append(formatAP('Manual add', 0, 0));\n    $('#wifiTable tr:last').addClass('table-light text-dark').addClass('manual_add');\n  }\n  if (ConnectedTo.ssid && (ConnectedTo.urc === connectReturnCode.OK || ConnectedTo.urc === connectReturnCode.RESTORE)) {\n    const wifiSelector = `#wifiTable td:contains(\"${ConnectedTo.ssid}\")`;\n    if ($(wifiSelector).filter(function () { return $(this).text() === ConnectedTo.ssid; }).length == 0) {\n      $('#wifiTable').prepend(`${formatAP(ConnectedTo.ssid, ConnectedTo.rssi ?? 0, 0)}`);\n    }\n    $(wifiSelector).filter(function () { return $(this).text() === ConnectedTo.ssid; }).siblings().first().html('&check;').parent().addClass((ConnectedTo.urc === connectReturnCode.OK ? 'table-success' : 'table-warning'));\n    $('span#foot-if').html(`SSID: <strong>${ConnectedTo.ssid}</strong>, IP: <strong>${ConnectedTo.ip}</strong>`);\n    $('#wifiStsIcon').html(rssiToIcon(ConnectedTo.rssi));\n\n  }\n  else if (ConnectedTo?.urc !== connectReturnCode.ETH) {\n    $('span#foot-if').html('');\n  }\n\n}\nfunction refreshETH() {\n\n  if (ConnectedTo.urc === connectReturnCode.ETH) {\n    $('span#foot-if').html(`Network: Ethernet, IP: <strong>${ConnectedTo.ip}</strong>`);\n  }\n}\nfunction showTask(task) {\n  console.debug(\n    this.toLocaleString() +\n    '\\t' +\n    task.nme +\n    '\\t' +\n    task.cpu +\n    '\\t' +\n    taskStates[task.st] +\n    '\\t' +\n    task.minstk +\n    '\\t' +\n    task.bprio +\n    '\\t' +\n    task.cprio +\n    '\\t' +\n    task.num\n  );\n  $('tbody#tasks').append(\n    '<tr class=\"table-primary\"><th scope=\"row\">' +\n    task.num +\n    '</th><td>' +\n    task.nme +\n    '</td><td>' +\n    task.cpu +\n    '</td><td>' +\n    taskStates[task.st] +\n    '</td><td>' +\n    task.minstk +\n    '</td><td>' +\n    task.bprio +\n    '</td><td>' +\n    task.cprio +\n    '</td></tr>'\n  );\n}\nfunction btExists(name) {\n  return getBTSinkOpt(name).length > 0;\n}\nfunction getBTSinkOpt(name) {\n  return $(`${btSinkNamesOptSel} option:contains('${name}')`);\n}\nfunction getMessages() {\n  $.ajaxSetup({\n    timeout: messageInterval //Time in milliseconds\n  });\n  $.getJSON('/messages.json', async function (data) {\n    for (const msg of data) {\n      const msgAge = msg.current_time - msg.sent_time;\n      var msgTime = new Date();\n      msgTime.setTime(msgTime.getTime() - msgAge);\n      switch (msg.class) {\n        case 'MESSAGING_CLASS_OTA':\n          flashState.EventOTAMessageClass(msg.message);\n          break;\n        case 'MESSAGING_CLASS_STATS':\n          // for task states, check structure : task_state_t\n          var statsData = JSON.parse(msg.message);\n          console.debug(\n            msgTime.toLocalShort() +\n            ' - Number of running tasks: ' +\n            statsData.ntasks\n          );\n          console.debug(\n            msgTime.toLocalShort() +\n            '\\tname' +\n            '\\tcpu' +\n            '\\tstate' +\n            '\\tminstk' +\n            '\\tbprio' +\n            '\\tcprio' +\n            '\\tnum'\n          );\n          if (statsData.tasks) {\n            if ($('#tasks_sect').css('visibility') === 'collapse') {\n              $('#tasks_sect').css('visibility', 'visible');\n            }\n            $('tbody#tasks').html('');\n            statsData.tasks\n              .sort(function (a, b) {\n                return b.cpu - a.cpu;\n              })\n              .forEach(showTask, msgTime);\n          } else if ($('#tasks_sect').css('visibility') === 'visible') {\n            $('tbody#tasks').empty();\n            $('#tasks_sect').css('visibility', 'collapse');\n          }\n          break;\n        case 'MESSAGING_CLASS_SYSTEM':\n          showMessage(msg, msgTime);\n          break;\n        case 'MESSAGING_CLASS_CFGCMD':\n          var msgparts = msg.message.split(/([^\\n]*)\\n(.*)/gs);\n          showCmdMessage(msgparts[1], msg.type, msgparts[2], true);\n          break;\n        case 'MESSAGING_CLASS_BT':\n          if ($(\"#cfg-audio-bt_source-sink_name\").is('input')) {\n            var attr = $(\"#cfg-audio-bt_source-sink_name\")[0].attributes;\n            var attrs = '';\n            for (var j = 0; j < attr.length; j++) {\n              if (attr.item(j).name != \"type\") {\n                attrs += `${attr.item(j).name} = \"${attr.item(j).value}\" `;\n              }\n            }\n            var curOpt = $(\"#cfg-audio-bt_source-sink_name\")[0].value;\n            $(\"#cfg-audio-bt_source-sink_name\").replaceWith(`<select id=\"cfg-audio-bt_source-sink_name\" ${attrs}><option value=\"${curOpt}\" data-bs-description=\"${curOpt}\">${curOpt}</option></select> `);\n          }\n          JSON.parse(msg.message).forEach(function (btEntry) {\n            //<input type=\"text\" class=\"form-control bg-success\" placeholder=\"name\" hasvalue=\"true\" longopts=\"sink_name\" shortopts=\"n\" checkbox=\"false\" cmdname=\"cfg-audio-bt_source\" id=\"cfg-audio-bt_source-sink_name\" name=\"cfg-audio-bt_source-sink_name\">\n            //<select hasvalue=\"true\" longopts=\"jack_behavior\" shortopts=\"j\" checkbox=\"false\" cmdname=\"cfg-audio-general\" id=\"cfg-audio-general-jack_behavior\" name=\"cfg-audio-general-jack_behavior\" class=\"form-control \"><option>--</option><option>Headphones</option><option>Subwoofer</option></select>            \n            if (!btExists(btEntry.name)) {\n              $(\"#cfg-audio-bt_source-sink_name\").append(`<option>${btEntry.name}</option>`);\n              showMessage({ type: msg.type, message: `BT Audio device found: ${btEntry.name} RSSI: ${btEntry.rssi} ` }, msgTime);\n            }\n            getBTSinkOpt(btEntry.name).attr('data-bs-description', `${btEntry.name} (${btEntry.rssi}dB)`)\n              .attr('rssi', btEntry.rssi)\n              .attr('value', btEntry.name)\n              .text(`${btEntry.name} [${btEntry.rssi}dB]`).trigger('change');\n\n          });\n          $(btSinkNamesOptSel).append($(`${btSinkNamesOptSel} option`).remove().sort(function (a, b) {\n            console.log(`${parseInt($(a).attr('rssi'))} < ${parseInt($(b).attr('rssi'))} ? `);\n            return parseInt($(a).attr('rssi')) < parseInt($(b).attr('rssi')) ? 1 : -1;\n          }));\n          break;\n        default:\n          break;\n      }\n    }\n    setTimeout(getMessages, messageInterval);\n  }).fail(function (xhr, ajaxOptions, thrownError) {\n\n    if (xhr.status == 404) {\n      $('.orec').hide(); // system commands won't be available either\n      messagesHeld = true;\n    }\n    else {\n      handleExceptionResponse(xhr, ajaxOptions, thrownError);\n    }\n    if (xhr.status == 0 && xhr.readyState == 0) {\n      // probably a timeout. Target is rebooting? \n      setTimeout(getMessages, messageInterval * 2); // increase duration if a failure happens\n    }\n    else if (!messagesHeld) {\n      // 404 here means we rebooted to an old recovery\n      setTimeout(getMessages, messageInterval); // increase duration if a failure happens\n    }\n\n  }\n  );\n\n  /*\n    Minstk is minimum stack space left\nBprio is base priority\ncprio is current priority\nnme is name\nst is task state. I provided a \"typedef\" that you can use to convert to text\ncpu is cpu percent used\n*/\n}\nfunction handleRecoveryMode(data) {\n  const locRecovery = data.recovery ?? 0;\n  if (locRecovery === 1) {\n    recovery = true;\n    $('.recovery_element').show();\n    $('.ota_element').hide();\n    $('#boot-button').html('Reboot');\n    $('#boot-form').attr('action', '/reboot_ota.json');\n  } else {\n    if (!recovery && messagesHeld) {\n      messagesHeld = false;\n      setTimeout(getMessages, messageInterval); // increase duration if a failure happens\n    }\n    recovery = false;\n\n    $('.recovery_element').hide();\n    $('.ota_element').show();\n    $('#boot-button').html('Recovery');\n    $('#boot-form').attr('action', '/recovery.json');\n  }\n\n}\n\nfunction hasConnectionChanged(data) {\n  // gw: \"192.168.10.1\"\n  // ip: \"192.168.10.225\"\n  // netmask: \"255.255.255.0\"\n  // ssid: \"MyTestSSID\"\n\n  return (data.urc !== ConnectedTo.urc ||\n    data.ssid !== ConnectedTo.ssid ||\n    data.gw !== ConnectedTo.gw ||\n    data.netmask !== ConnectedTo.netmask ||\n    data.ip !== ConnectedTo.ip || data.rssi !== ConnectedTo.rssi)\n}\nfunction handleWifiDialog(data) {\n  if ($('#WifiConnectDialog').is(':visible')) {\n    if (ConnectedTo.ip) {\n      $('#ipAddress').text(ConnectedTo.ip);\n    }\n    if (ConnectedTo.ssid) {\n      $('#connectedToSSID').text(ConnectedTo.ssid);\n    }\n    if (ConnectedTo.gw) {\n      $('#gateway').text(ConnectedTo.gw);\n    }\n    if (ConnectedTo.netmask) {\n      $('#netmask').text(ConnectedTo.netmask);\n    }\n    if (ConnectingToSSID.Action === undefined || (ConnectingToSSID.Action && ConnectingToSSID.Action == ConnectingToActions.STS)) {\n      $(\"*[class*='connecting']\").hide();\n      $('.connecting-status').show();\n    }\n    if (SystemConfig.ap_ssid) {\n      $('#apName').text(SystemConfig.ap_ssid.value);\n    }\n    if (SystemConfig.ap_pwd) {\n      $('#apPass').text(SystemConfig.ap_pwd.value);\n    }\n    if (!data) {\n      return;\n    }\n    else {\n      switch (data.urc) {\n        case connectReturnCode.OK:\n          if (data.ssid && data.ssid === ConnectingToSSID.ssid) {\n            $(\"*[class*='connecting']\").hide();\n            $('.connecting-success').show();\n            ConnectingToSSID.Action = ConnectingToActions.STS;\n          }\n          break;\n        case connectReturnCode.FAIL:\n          // \n          if (ConnectingToSSID.Action != ConnectingToActions.STS && ConnectingToSSID.ssid == data.ssid) {\n            $(\"*[class*='connecting']\").hide();\n            $('.connecting-fail').show();\n          }\n          break;\n        case connectReturnCode.LOST:\n\n          break;\n        case connectReturnCode.RESTORE:\n          if (ConnectingToSSID.Action != ConnectingToActions.STS && ConnectingToSSID.ssid != data.ssid) {\n            $(\"*[class*='connecting']\").hide();\n            $('.connecting-fail').show();\n          }\n          break;\n        case connectReturnCode.DISC:\n          // that's a manual disconnect\n          // if ($('#wifi-status').is(':visible')) {\n          //   $('#wifi-status').slideUp('fast', function() {});\n          //   $('span#foot-wifi').html('');\n\n          // }                 \n          break;\n        default:\n          break;\n      }\n    }\n\n  }\n}\nfunction setIcons(offline) {\n  $('.material-icons').each(function (_index, entry) {\n    entry.textContent = entry.attributes[offline ? 'aria-label' : 'icon'].value;\n  });\n}\nfunction handleNetworkStatus(data) {\n  setIcons(!isConnected());\n  if (hasConnectionChanged(data) || !data.urc) {\n    ConnectedTo = data;\n    $(\".if_eth\").hide();\n    $('.if_wifi').hide();\n    if (!data.urc || ConnectedTo.urc != connectReturnCode.ETH) {\n      $('.if_wifi').show();\n      refreshAPHTML2();\n    }\n    else {\n      $(\".if_eth\").show();\n      refreshETH();\n    }\n\n  }\n  handleWifiDialog(data);\n}\n\n\n\nfunction batteryToIcon(voltage) {\n  /* Assuming Li-ion 18650s as a power source, 3.9V per cell, or above is treated\n  as full charge (>75% of capacity).  3.4V is empty. The gauge is loosely\n  following the graph here:\n    https://learn.adafruit.com/li-ion-and-lipoly-batteries/voltages\n  using the 0.2C discharge profile for the rest of the values.\n*/\n\n  for (const iconEntry of batIcons) {\n    for (const entryRanges of iconEntry.ranges) {\n      if (inRange(voltage, entryRanges.f, entryRanges.t)) {\n        return { label: iconEntry.label, icon: iconEntry.icon };\n      }\n    }\n  }\n\n\n  return { label: '', icon: \"battery_full\" };\n}\nfunction checkStatus() {\n  $.ajaxSetup({\n    timeout: statusInterval //Time in milliseconds\n  });\n  $.getJSON('/status.json', function (data) {\n    handleRecoveryMode(data);\n    handleNVSVisible();\n    handleNetworkStatus(data);\n    handlebtstate(data);\n    flashState.EventTargetStatus(data);\n    if(data.depth) {\n      depth = data.depth;\n      if(depth==16){\n        $('#cmd_opt_R').show();\n      }\n      else{\n        $('#cmd_opt_R').hide();\n      }\n    }\n\n\n    if (data.project_name && data.project_name !== '') {\n      project_name = data.project_name;\n    }\n    if (data.platform_name && data.platform_name !== '') {\n      platform_name = data.platform_name;\n    }\n    if (board_model === '') board_model = project_name;\n    if (board_model === '') board_model = 'Squeezelite-ESP32';\n    if (data.version && data.version !== '') {\n      versionName = data.version;\n      $(\"#navtitle\").html(`${board_model}${recovery ? '<br>[recovery]' : ''}`);\n      $('span#foot-fw').html(`fw: <strong>${versionName}</strong>, mode: <strong>${recovery ? \"Recovery\" : project_name}</strong>`);\n    } else {\n      $('span#flash-status').html('');\n    }\n    if (data.Voltage) {\n      const bat_icon = batteryToIcon(data.Voltage);\n      $('#battery').html(`${getIcon(bat_icon)}`);\n      $('#battery').attr(\"aria-label\", bat_icon.label);\n      $('#battery').attr(\"icon\", bat_icon.icon);\n      $('#battery').show();\n    } else {\n      $('#battery').hide();\n    }\n    if ((data.message ?? '') != '' && prevmessage != data.message) {\n      // supporting older recovery firmwares - messages will come from the status.json structure\n      prevmessage = data.message;\n      showLocalMessage(data.message, 'MESSAGING_INFO')\n    }\n    is_i2c_locked = data.is_i2c_locked;\n    if (is_i2c_locked) {\n      $('flds-cfg-hw-preset').hide();\n    }\n    else {\n      $('flds-cfg-hw-preset').show();\n    }\n    $(\"button[onclick*='handleReboot']\").removeClass('rebooting');\n\n    if (typeof lmsBaseUrl == \"undefined\" || data.lms_ip != prevLMSIP && data.lms_ip && data.lms_port) {\n      const baseUrl = 'http://' + data.lms_ip + ':' + data.lms_port;\n      prevLMSIP = data.lms_ip;\n      $.ajax({\n        url: baseUrl + '/plugins/SqueezeESP32/firmware/-check.bin',\n        type: 'HEAD',\n        dataType: 'text',\n        cache: false,\n        error: function () {\n          // define the value, so we don't check it any more.\n          lmsBaseUrl = '';\n        },\n        success: function () {\n          lmsBaseUrl = baseUrl;\n        }\n      });\n    }\n    $('#o_jack').css({ display: Number(data.Jack) ? 'inline' : 'none' });\n    setTimeout(checkStatus, statusInterval);\n  }).fail(function (xhr, ajaxOptions, thrownError) {\n    handleExceptionResponse(xhr, ajaxOptions, thrownError);\n    if (xhr.status == 0 && xhr.readyState == 0) {\n      // probably a timeout. Target is rebooting? \n      setTimeout(checkStatus, messageInterval * 2); // increase duration if a failure happens\n    }\n    else {\n      setTimeout(checkStatus, messageInterval); // increase duration if a failure happens\n    }\n  });\n}\n// eslint-disable-next-line no-unused-vars\nwindow.runCommand = function (button, reboot) {\n  let cmdstring = button.attributes.cmdname.value;\n  showCmdMessage(\n    button.attributes.cmdname.value,\n    'MESSAGING_INFO',\n    'Executing.',\n    false\n  );\n  const fields = document.getElementById('flds-' + cmdstring);\n  const allfields = fields?.querySelectorAll('select,input');\n  if (cmdstring === 'cfg-hw-preset') return handleHWPreset(allfields, reboot);\n  \n  // For cfg-* commands, use /config.json directly (same as preset) instead of /commands.json\n  if (cmdstring.startsWith('cfg-')) {\n    return handleConfigSave(cmdstring, allfields, reboot);\n  }\n  cmdstring += ' ';\n  if (fields) {\n\n    for (const field of allfields) {\n      let qts = '';\n      let opt = '';\n      let attr = field.attributes;\n      let isSelect = $(field).is('select');\n      const hasValue = attr?.hasvalue?.value === 'true';\n      const validVal = (isSelect && field.value !== '--') || (!isSelect && field.value !== '');\n\n      if (!hasValue || hasValue && validVal) {\n        if (attr?.longopts?.value !== 'undefined') {\n          opt += '--' + attr?.longopts?.value;\n        } else if (attr?.shortopts?.value !== 'undefined') {\n          opt = '-' + attr.shortopts.value;\n        }\n\n        if (attr?.hasvalue?.value === 'true') {\n          if (attr?.value !== '') {\n            qts = /\\s/.test(field.value) ? '\"' : '';\n            cmdstring += opt + ' ' + qts + field.value + qts + ' ';\n          }\n        } else {\n          // this is a checkbox\n          if (field?.checked) {\n            cmdstring += opt + ' ';\n          }\n        }\n      }\n    }\n  }\n\n  console.log(cmdstring);\n\n  const data = {\n    timestamp: Date.now(),\n  };\n  data.command = cmdstring;\n\n  $.ajax({\n    url: '/commands.json',\n    dataType: 'text',\n    method: 'POST',\n    cache: false,\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(data),\n    error: function (xhr, _ajaxOptions, thrownError) {\n      var cmd = JSON.parse(this.data).command;\n      if (xhr.status == 404) {\n        showCmdMessage(\n          cmd.substr(0, cmd.indexOf(' ')),\n          'MESSAGING_ERROR',\n          `${recovery ? 'Limited recovery mode active. Unsupported action ' : 'Unexpected error while processing command'}`,\n          true\n        );\n      }\n      else {\n        handleExceptionResponse(xhr, _ajaxOptions, thrownError);\n        showCmdMessage(\n          cmd.substr(0, cmd.indexOf(' ') - 1),\n          'MESSAGING_ERROR',\n          `Unexpected error ${(thrownError !== '') ? thrownError : 'with return status = ' + xhr.status}`,\n          true\n        );\n      }\n    },\n    success: function (response) {\n      $('.orec').show();\n      console.log(response);\n      if (\n        JSON.parse(response).Result === 'Success' &&\n        reboot\n      ) {\n        delayReboot(2500, button.attributes.cmdname.value);\n      }\n    },\n  });\n}\nfunction getLongOps(data, name, longopts) {\n  return data.values[name] !== undefined ? data.values[name][longopts] : \"\";\n}\nfunction getCommands() {\n  $.ajaxSetup({\n    timeout: 7000 //Time in milliseconds\n  });\n  $.getJSON('/commands.json', function (data) {\n    console.log(data);\n    $('.orec').show();\n    data.commands.forEach(function (command) {\n      if ($('#flds-' + command.name).length === 0) {\n        const cmdParts = command.name.split('-');\n        const isConfig = cmdParts[0] === 'cfg';\n        const targetDiv = '#tab-' + cmdParts[0] + '-' + cmdParts[1];\n        let innerhtml = '';\n        innerhtml += `<div class=\"card mb-3\"><div class=\"card-header\">${command.help.encodeHTML().replace(/\\n/g, '<br />')}</div><div class=\"card-body\"><fieldset id=\"flds-${command.name}\">`;\n        if (command.argtable) {\n          command.argtable.forEach(function (arg) {\n            let placeholder = arg.datatype || '';\n            const ctrlname = command.name + '-' + arg.longopts;\n            const curvalue = getLongOps(data, command.name, arg.longopts);\n\n            let attributes = 'hasvalue=' + arg.hasvalue + ' ';\n            attributes += 'longopts=\"' + arg.longopts + '\" ';\n            attributes += 'shortopts=\"' + arg.shortopts + '\" ';\n            attributes += 'checkbox=' + arg.checkbox + ' ';\n            attributes += 'cmdname=\"' + command.name + '\" ';\n            attributes +=\n              'id=\"' +\n              ctrlname +\n              '\" name=\"' +\n              ctrlname +\n              '\" hasvalue=\"' +\n              arg.hasvalue +\n              '\"   ';\n            let extraclass = arg.mincount > 0 ? 'bg-success' : '';\n            if (arg.glossary === 'hidden') {\n              attributes += ' style=\"visibility: hidden;\"';\n            }\n            if (arg.checkbox) {\n              innerhtml += `<div class=\"form-check\"><label class=\"form-check-label\"><input type=\"checkbox\" ${attributes} class=\"form-check-input ${extraclass}\" value=\"\" >${arg.glossary.encodeHTML()}</label>`;\n            } else {\n              innerhtml += `<div class=\"form-group\" ><label for=\"${ctrlname}\">${arg.glossary.encodeHTML()}</label>`;\n              if (placeholder.includes('|')) {\n                extraclass = placeholder.startsWith('+') ? ' multiple ' : '';\n                placeholder = placeholder\n                  .replace('<', '')\n                  .replace('=', '')\n                  .replace('>', '');\n                innerhtml += `<select ${attributes} class=\"form-control ${extraclass}\" >`;\n                placeholder = '--|' + placeholder;\n                placeholder.split('|').forEach(function (choice) {\n                  innerhtml += '<option >' + choice + '</option>';\n                });\n                innerhtml += '</select>';\n              } else {\n                innerhtml += `<input type=\"text\" class=\"form-control ${extraclass}\" placeholder=\"${placeholder}\" ${attributes}>`;\n              }\n            }\n\n            innerhtml += `${arg.checkbox ? '</div>' : ''}<small class=\"form-text text-muted\">Previous value: ${arg.checkbox ? (curvalue ? 'Checked' : 'Unchecked') : (curvalue || '')}</small>${arg.checkbox ? '' : '</div>'}`;\n          });\n        }\n        innerhtml += `<div style=\"margin-top: 16px;\">\n        <div class=\"toast hide\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" id=\"toast_${command.name}\">\n        <div class=\"toast-header\">\n        <strong class=\"mr-auto\">Result</strong\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"toast-body\" id=\"msg_${command.name}\"></div>\n      </div>`;\n        if (isConfig) {\n          innerhtml +=\n            `<button type=\"submit\" class=\"btn btn-info sclk\" id=\"btn-save-${command.name}\" cmdname=\"${command.name}\">Save</button>\n<button type=\"submit\" class=\"btn btn-warning cclk\" id=\"btn-commit-${command.name}\" cmdname=\"${command.name}\">Apply</button>`;\n        } else {\n          innerhtml += `<button type=\"submit\" class=\"btn btn-success sclk\" id=\"btn-run-${command.name}\" cmdname=\"${command.name}\">Execute</button>`;\n        }\n        innerhtml += '</div></fieldset></div></div>';\n        if (isConfig) {\n          $(targetDiv).append(innerhtml);\n        } else {\n          $('#commands-list').append(innerhtml);\n        }\n      }\n    });\n    $(\".sclk\").off('click').on('click', function () { runCommand(this, false); });\n    $(\".cclk\").off('click').on('click', function () { runCommand(this, true); });\n    data.commands.forEach(function (command) {\n      $('[cmdname=' + command.name + ']:input').val('');\n      $('[cmdname=' + command.name + ']:checkbox').prop('checked', false);\n      if (command.argtable) {\n        command.argtable.forEach(function (arg) {\n          const ctrlselector = '#' + command.name + '-' + arg.longopts;\n          const ctrlValue = getLongOps(data, command.name, arg.longopts);\n          if (arg.checkbox) {\n            $(ctrlselector)[0].checked = ctrlValue;\n          } else {\n            if (ctrlValue !== undefined) {\n              $(ctrlselector)\n                .val(ctrlValue)\n                .trigger('change');\n            }\n            if (\n              $(ctrlselector)[0].value.length === 0 &&\n              (arg.datatype || '').includes('|')\n            ) {\n              $(ctrlselector)[0].value = '--';\n            }\n          }\n        });\n      }\n    });\n    loadPresets();\n  }).fail(function (xhr, ajaxOptions, thrownError) {\n    if (xhr.status == 404) {\n      $('.orec').hide();\n    }\n    else {\n      handleExceptionResponse(xhr, ajaxOptions, thrownError);\n    }\n    $('#commands-list').empty();\n\n  });\n}\n\nfunction getConfig() {\n  $.ajaxSetup({\n    timeout: 7000 //Time in milliseconds\n  });\n  $.getJSON('/config.json', function (entries) {\n    $('#nvsTable tr').remove();\n    const data = (entries.config ? entries.config : entries);\n    SystemConfig = data;\n    commandBTSinkName = '';\n    Object.keys(data)\n      .sort()\n      .forEach(function (key) {\n        let val = data[key].value;\n       if (key === 'autoexec1') {\n          /* call new function to parse the squeezelite options */\n          processSqueezeliteCommandLine(val);\n        } else if (key === 'host_name') {\n          val = val.replaceAll('\"', '');\n          $('input#dhcp-name1').val(val);\n          $('input#dhcp-name2').val(val);\n          if ($('#cmd_opt_n').length == 0) {\n            $('#cmd_opt_n').val(val);\n          }\n          document.title = val;\n          hostName = val;\n        } else if (key === 'rel_api') {\n          releaseURL = val;\n        }\n        else if (key === 'enable_airplay') {\n          $(\"#s_airplay\").css({ display: isEnabled(val) ? 'inline' : 'none' })\n        }\n        else if (key === 'enable_cspot') {\n          $(\"#s_cspot\").css({ display: isEnabled(val) ? 'inline' : 'none' })\n        }\n        else if (key == 'preset_name') {\n          preset_name = val;\n        }\n        else if (key == 'board_model') {\n          board_model = val;\n        }\n\n        $('tbody#nvsTable').append(\n          '<tr>' +\n          '<td>' +\n          key +\n          '</td>' +\n          \"<td class='value'>\" +\n          \"<input type='text' class='form-control nvs' id='\" +\n          key +\n          \"'  nvs_type=\" +\n          data[key].type +\n          ' >' +\n          '</td>' +\n          '</tr>'\n        );\n        $('input#' + key).val(data[key].value);\n      });\n    if(commandBTSinkName.length > 0) {\n      // persist the sink name found in the autoexec1 command line\n      $('#cfg-audio-bt_source-sink_name').val(commandBTSinkName);\n    }\n    $('tbody#nvsTable').append(\n      \"<tr><td><input type='text' class='form-control' id='nvs-new-key' placeholder='new key'></td><td><input type='text' class='form-control' id='nvs-new-value' placeholder='new value' nvs_type=33 ></td></tr>\"\n    );\n    if (entries.gpio) {\n      $('#pins').show();\n      $('tbody#gpiotable tr').remove();\n      entries.gpio.forEach(function (gpioEntry) {\n        $('tbody#gpiotable').append(\n          '<tr class=' +\n          (gpioEntry.fixed ? 'table-secondary' : 'table-primary') +\n          '><th scope=\"row\">' +\n          gpioEntry.group +\n          '</th><td>' +\n          gpioEntry.name +\n          '</td><td>' +\n          gpioEntry.gpio +\n          '</td><td>' +\n          (gpioEntry.fixed ? 'Fixed' : 'Configuration') +\n          '</td></tr>'\n        );\n      });\n    }\n    else {\n      $('#pins').hide();\n    }\n  }).fail(function (xhr, ajaxOptions, thrownError) {\n    handleExceptionResponse(xhr, ajaxOptions, thrownError);\n  });\n}\n\nfunction processSqueezeliteCommandLine(val) {\n  const parsed = parseSqueezeliteCommandLine(val);\n  if (parsed.output.toUpperCase().startsWith('I2S')) {\n    handleTemplateTypeRadio('i2s');\n  } else if (parsed.output.toUpperCase().startsWith('SPDIF')) {\n    handleTemplateTypeRadio('spdif');\n  } else if (parsed.output.toUpperCase().startsWith('BT')) {\n    if(parsed.otherOptions.btname){ \n      commandBTSinkName= parsed.otherOptions.btname;\n    }\n    handleTemplateTypeRadio('bt');\n\n  }\n  Object.keys(parsed.options).forEach(function (key) {\n    const option = parsed.options[key];\n    if (!$(`#cmd_opt_${key}`).hasOwnProperty('checked')) {\n      $(`#cmd_opt_${key}`).val(option);\n    } else {\n      $(`#cmd_opt_${key}`)[0].checked = option;\n    }\n  });\n  if (parsed.options.hasOwnProperty('u')) {\n    // parse -u v[:i] and check the appropriate radio button with id #resample_v\n    const [resampleValue, resampleInterpolation] = parsed.options.u.split(':');\n    $(`#resample_${resampleValue}`).prop('checked', true);\n    // if resampleinterpolation is set, check  resample_i checkbox\n    if (resampleInterpolation) {\n      $('#resample_i').prop('checked', true);\n    }\n  }\n  if (parsed.options.hasOwnProperty('s')) {\n    // parse -u v[:i] and check the appropriate radio button with id #resample_v\n    if(parsed.options.s === '-disable'){\n      $('#disable-squeezelite')[0].checked = true;\n    }\n    else {\n      $('#disable-squeezelite')[0].checked = false;\n    }\n  }\n\n  \n\n\n}\n\nfunction showLocalMessage(message, severity) {\n  const msg = {\n    message: message,\n    type: severity,\n  };\n  showMessage(msg, new Date());\n}\n\nfunction showMessage(msg, msgTime) {\n  let color = 'table-success';\n\n  if (msg.type === 'MESSAGING_WARNING') {\n    color = 'table-warning';\n    if (messageseverity === 'MESSAGING_INFO') {\n      messageseverity = 'MESSAGING_WARNING';\n    }\n  } else if (msg.type === 'MESSAGING_ERROR') {\n    if (\n      messageseverity === 'MESSAGING_INFO' ||\n      messageseverity === 'MESSAGING_WARNING'\n    ) {\n      messageseverity = 'MESSAGING_ERROR';\n    }\n    color = 'table-danger';\n  }\n  if (++messagecount > 0) {\n    $('#msgcnt').removeClass('badge-success');\n    $('#msgcnt').removeClass('badge-warning');\n    $('#msgcnt').removeClass('badge-danger');\n    $('#msgcnt').addClass(pillcolors[messageseverity]);\n    $('#msgcnt').text(messagecount);\n  }\n\n  $('#syslogTable').append(\n    \"<tr class='\" +\n    color +\n    \"'>\" +\n    '<td>' +\n    msgTime.toLocalShort() +\n    '</td>' +\n    '<td>' +\n    msg.message.encodeHTML() +\n    '</td>' +\n    '</tr>'\n  );\n}\n\nfunction inRange(x, min, max) {\n  return (x - min) * (x - max) <= 0;\n}\n\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksqueezelite_esp32\"] = self[\"webpackChunksqueezelite_esp32\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [255], () => (__webpack_require__(156)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","he","require","Promise","get_control_option_value","obj","ctrl","id","val","opt","$","concat","attr","checked","replace","includes","handleNVSVisible","nvs_previous_checked","isEnabled","Cookies","get","recovery","show","hide","undefined","match","window","bootstrap","String","prototype","format","Object","assign","args","arguments","this","number","encodeHTML","encode","Date","toLocalShort","toLocaleString","dateStyle","timeStyle","nvsTypes","btIcons","bt_playing","bt_disconnected","bt_neutral","bt_connecting","bt_connected","bt_disabled","play_arrow","pause","stop","batIcons","icon","label","ranges","f","t","btStateIcons","desc","sub","pillcolors","MESSAGING_INFO","MESSAGING_WARNING","MESSAGING_ERROR","connectReturnCode","taskStates","flashState","NONE","REBOOT_TO_RECOVERY","SET_FWURL","FLASHING","DONE","UPLOADING","ERROR","UPLOADCOMPLETE","_state","olderRecovery","statusText","flashURL","flashFileName","statusPercent","Completed","prevRecovery","updateModal","Modal","document","getElementById","reset","UpdateProgress","removeClass","prop","value","isStateError","html","parent","isStateUploadComplete","isStateNone","isStateRebootRecovery","isStateSetUrl","isStateFlashing","isStateDone","isStateUploading","init","SetStateError","addClass","SetStateNone","SetStateRebootRecovery","SetStatusText","ajax","url","context","dataType","method","cache","contentType","data","JSON","stringify","timestamp","now","error","xhr","_ajaxOptions","thrownError","_xhr$status","setOTAError","status","complete","response","SetStateSetUrl","post_config","fwurl","type","SetStateFlashing","SetStateDone","SetStateUploading","SetStateUploadComplete","isFlashExecuting","toString","_this","keys","find","x","setOTATargets","fileInput","files","length","message","SetStatusPercent","ShowDialog","pct","pctChanged","txt","changed","css","text","StartOTA","logEvent","name","TargetReadyStartOTA","UploadLocalFile","xhttp","XMLHttpRequest","boundHandleUploadProgressEvent","HandleUploadProgressEvent","bind","boundsetOTAError","upload","addEventListener","onreadystatechange","readyState","open","send","console","Math","round","loaded","total","EventTargetStatus","_data$ota_pct","_data$ota_dsc","ota_pct","ota_dsc","EventOTAMessageClass","otaData","parse","fun","log","hideSurrounding","presetsloaded","messageInterval","confPayload","config","handleExceptionResponse","parseSqueezeliteCommandLine","commandLine","output","options","otherValues","i","arg","startsWith","option","slice","join","trim","o","indexOf","substring","getOutput","n","getName","otherOptions","btname","toUpperCase","temp","isConnected","ConnectedTo","hasOwnProperty","ip","getIcon","icons","handleTemplateTypeRadio","outtype","children","display","commandDefaults","forEach","key","showLocalMessage","showCmdMessage","cmdname","msgtype","msgtext","append","color","escapedtext","endsWith","hFlash","handleReboot","link","delayReboot","lmsBaseUrl","releaseURL","messagesHeld","commandBTSinkName","i2s","b","C","W","Z","spdif","bt","validOptions","codecs","messagecount","messageseverity","SystemConfig","LastCommandsState","hostName","versionName","prevmessage","project_name","board_model","platform_name","preset_name","btSinkNamesOptSel","ConnectingToSSID","prevLMSIP","ConnectingToActions","getConfigJson","slimMode","each","_index","entry","nvsType","parseInt","attributes","nvs_type","duration","empty","resolve","delay","then","rdata","HideCmdMessage","getCommands","getConfig","setPlatformFilter","filter","trigger","renderError","fieldname","errorFieldName","errorField","field","after","rssiToIcon","rssi","refreshAP","_ConnectedTo","urc","ajaxSetup","timeout","getJSON","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","sleep","sort","a","y","refreshAPHTML2","formatAP","ssid","auth","rssi_icon","auth_icon","_ConnectedTo2","h","e","_ConnectedTo$rssi","wifiSelector","prepend","siblings","first","showTask","task","debug","nme","cpu","st","minstk","bprio","cprio","num","getBTSinkOpt","getMessages","_ref2","_callee2","_iterator2","_step2","_loop","msgTime","statsData","msgparts","attrs","j","curOpt","_t2","_context3","_createForOfIteratorHelper","msg","msgAge","_t","_context2","current_time","sent_time","setTime","getTime","abrupt","ntasks","tasks","showMessage","split","is","item","replaceWith","btEntry","remove","s","done","delegateYield","finish","setTimeout","_x","apply","fail","ajaxOptions","handleWifiDialog","gw","netmask","Action","ap_ssid","ap_pwd","setIcons","offline","textContent","handleNetworkStatus","hasConnectionChanged","checkStatus","_data$message","_data$recovery","handleRecoveryMode","tt","bt_status","bt_sub_status","iconindex","handlebtstate","depth","version","Voltage","bat_icon","voltage","_i3","_batIcons","_step3","iconEntry","_iterator3","entryRanges","inRange","err","batteryToIcon","is_i2c_locked","lms_ip","lms_port","baseUrl","success","Number","Jack","getLongOps","longopts","values","commands","command","cmdParts","isConfig","targetDiv","innerhtml","help","argtable","placeholder","datatype","ctrlname","curvalue","hasvalue","shortopts","checkbox","extraclass","mincount","glossary","choice","off","on","runCommand","ctrlselector","ctrlValue","_","jqxhr","textStatus","entries","parsed","_parsed$options$u$spl","u","_parsed$options$u$spl2","_slicedToArray","resampleValue","resampleInterpolation","processSqueezeliteCommandLine","replaceAll","title","gpio","gpioEntry","fixed","group","severity","min","max","ms","reason","_resolve","reject","saveAutoexec1","_get_control_option_v","optStr","resample","_i","_Object$entries","_Object$entries$_i","concatenateOptions","autoexec1","responseText","result","Result","handleDisconnect","handleConnect","pwd","dhcpname","ready","index","not","_get_control_option_v2","invalid","map","test","event","relatedTarget","FileReader","file","fr","onload","target","ex","alert","readAsText","slideUp","slideDown","preventDefault","currentValue","originalValue","set","createElement","href","URL","createObjectURL","Blob","setAttribute","body","appendChild","click","removeChild","branches","release","branch","push","fwb","assets","asset","browser_download_url","namecomponents","ver","cfg","bits","substr","lastIndexOf","created_at","idf","trclass","setURL","button","dataset","reboot","cmdstring","fields","allfields","querySelectorAll","selJson","cmd","model_config","_i2","_Object$entries2","_Object$entries2$_i","storedval","handleHWPreset","__cmdname__","_step","_iterator","_attr$longopts","isSelect","configKey","_attr$hasvalue","hasValue","validVal","handleConfigSave","_step4","_iterator4","_attr$hasvalue2","qts","_attr$longopts2","_attr$shortopts","_attr$hasvalue3","_attr$longopts3","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","splice","r","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","Function","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}